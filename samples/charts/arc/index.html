<html>
  <head>
    <title>VizGrammar.js - Area Chart Sample</title>
    <link rel="stylesheet" href="../../css/bootstrap.min.css">
      <link rel="stylesheet" href="../../css/vizGrammer.css">
    <script src="../../js/d3.min.js"></script>
    <script src="../../js/vega.js"></script>
    <script src="../../../dist/VizGrammar.js"></script>
    <style type="text/css">
        body {
            padding-top: 40px;
        }
    </style>
  </head>
  
  <div class="container">
  <body>
        <a href="../../" style="text-decoration: none">
        <div class="jumbotron">
            <h2>VizGrammar.js
                <small> Drawing a chart has never been this easy!</small>
            </h2>
            <p>Interactive Generic Visualization library for Javascript that is based on d3.js</p>
        </div>
    </a>

       <div class="row">

        <div class="col-md-6" class="tile">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">
                        Donut Chart Sample
                    </h3>
                </div>
                <div class="panel-body">
                    <div id="dChart"></div>
                    <div id="dChartContent"></div>
                </div>

            </div>
        </div>
       <div class="col-md-6" class="tile">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">
                        Pie Chart Sample
                    </h3>
                </div>
                <div class="panel-body">
                    <div id="dChartPie"></div>
                </div>

            </div>
        </div>

    </div>

    <div class="row">
 


        <div class="col-md-6">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">
                        Data Collection
                    </h3>
                </div>
                <div class="panel-body">
                    <div id="data set">
<pre>
{
  "metadata" : {
      "names" : ["rpm","torque","horsepower", "EngineType"],
      "types" : ["linear","linear", "ordinal","ordinal"]
  },
  "data": [
    [1, 10, 1, "Piston"]]
};
</pre>


                    </div>
                </div>

            </div>
        </div>

        <div class="col-md-6" class="tile">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">
                       Configurations
                    </h3>
                </div>
                <div class="panel-body">
                      <pre>
    {
        charts : [{type:"arc", x:"torque", color:"EngineType", mode:"donut"}],
        width: 300,
        height: 250
    }
                      </pre>

                        <table class="table table-bordered">
                            <thead>
                            <tr>
                                <th>Property</th>
                                <th>Value</th>
                                <th>Description</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr class="info">
                                <td>title</td>
                                <td>String</td>
                                <td>Title of the table</td>
                            </tr>
                            <tr class="danger">
                                <td>x</td>
                                <td>String</td>
                                <td>cAttribute name for X-axis</td>
                            </tr>
                            <tr class="danger">
                                <td>maxLength</td>
                                <td>int</td>
                                <td>Maximum length of chart datatable</td>

                            </tr>

                            <tr class="danger">
                                <td>height</td>
                                <td>px</td>
                                <td>height of the chart</td>

                            </tr>

                            <tr class="danger">
                                <td>charts</td>
                                <td>object</td>
                                <td>Collection of charts</td>

                            </tr>
                            </tbody>
                        </table>

                        <table class="table table-bordered">
                            <thead>
                            <tr>
                                <th>Property</th>
                                <th>Value</th>
                                <th>Description</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr class="danger">
                                <td>type</td>
                                <td>String</td>
                                <td>Title of the table</td>
                            </tr>
                            <tr class="danger">
                                <td>y</td>
                                <td>String</td>
                                <td>Attribute name for Y-axis</td>

                            </tr>

                            </tbody>
                        </table>
                    
                </div>

            </div>
        </div>


    </div>

        <script>

        var data =  [
            {
              "metadata" : {
                  "names" : ["rpm","torque","horsepower", "EngineType"],
                  "types" : ["linear","linear", "ordinal","ordinal"]
                },
              "data": [
                [0, 100, 12,"Rotary"]

                            ]
            }
          ];


        var config = {
            charts : [{type: "arc",  x : "torque", color : "EngineType", mode: "donut"}],
            width: 300,
            height: 250
          }

        var configPie = {
            charts : [{type: "arc",  x : "torque", color : "EngineType", mode: "pie"}],
            width: 300,
            height: 250
        }

    var callbackmethod = function(event, item) { 

        if (item != null) {
              var div = document.getElementById("dChartContent");
                  div.innerHTML = "<p> Torque : "+item.datum.torque+"</p>"
                  +  "<p> RPM : "+item.datum.rpm+"</p>"
                  +  "<p> Engine Type : "+item.datum.EngineType+"</p>";
          }
      };

        var donutChart = new vizg(data, config);
        donutChart.draw("#dChart", [{type:"click", callback:callbackmethod}]);

        var pieChart = new vizg(data, configPie);
        pieChart.draw("#dChartPie"); 



        var iterations = 1000;
        (function insertLoop (i) {      
                  
               setTimeout(function () { 
              if ( i % 4 == 0) {
                    EngineType = "Rotary";
                 } else if( i % 4 == 1) {
                    EngineType = "Piston V6";
                 } 
                 else if( i % 4 == 2) {
                    EngineType = "Piston V8";
                 }  else if( i % 4 == 3) {
                    EngineType = "Piston";
                 }

                pieChart.insert([[iterations-i + 1, Number((Math.random() * 100).toFixed(2)), 13, EngineType]]);
                donutChart.insert([[iterations-i + 1, Number((Math.random() * 100).toFixed(2)), 13, EngineType]]);            
                  if (--i) insertLoop(i);
               }, 500)
        })(iterations);
        </script>
      </div>
  </body>
</html>
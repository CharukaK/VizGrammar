<!DOCTYPE html>
<html>
<head>
    <title>IGViz.js - Bar Chart Sample</title>
    <link rel="stylesheet" href="../bootstrap.min.css">

    <script src="../d3.min.js"></script>

    <!-- Intergration of igviz  -->

    <script src="../vega.js"></script>
    <script src="../../igviz.js"></script>
    <link rel="stylesheet" href="../../igviz.css">

    <meta charset="utf-8">

    <style type="text/css">
        body{ padding-top: 40px;}

    </style>
</head>

<body>


<div class="container">
    <a href="../" style="text-decoration: none">
        <div class="jumbotron">
            <h1>IGViz.js<small> Drawing a chart has never been this easy!</small></h1>
            <p>Interactive Generic Visualization library for Javascript that is based on d3.js</p>
        </div>
    </a>

    <div class="row">

        <div class="col-md-6" class="tile">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">
                        Aggregated bar Chart Sample
                    </h3>
                </div>
                <div class="panel-body">
                    <div id="staticBar"></div>
                </div>

            </div>
        </div>

        <div class="col-md-6" class="tile">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">
                        Aggregated Real-time bar Chart Sample
                    </h3>
                </div>
                <div class="panel-body">
                    <div id="dynamicBar"></div>
                </div>
            </div>
        </div>






    </div>

    <div class="row">

        <div class="col-md-6">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">
                        Data Collection
                    </h3>
                </div>
                <div class="panel-body">
                    <div id="data set">
<pre>
{
        "metadata":{
            "names":["Candidate","city_id","votes"],
            "types":['C', 'N', 'N']
        },
        "data": [
            ['A',1,4],
            ['A',2,0],
            ['A',3,5],
            ['A',5,3],
            ['B',1,3],
            ['B',2,5],
            ['B',3,8],
            ['B',5,9],
            ['C',1,1],
            ['C',2,9],
            ['C',3,5],
            ['C',5,6],
        ]
}
</pre>


                    </div>
                </div>

            </div>
        </div>

        <div class="col-md-6" >
            <div class="panel panel-default" style="height: 588px">
                <div class="panel-heading">
                    <h3 class="panel-title">
                        Configurations
                    </h3>
                </div>
                <div class="panel-body">
                    <div id="scatter">

                        <table class="table table-bordered" s>
                            <thead>
                            <tr>
                                <th>Property</th>
                                <th>Value</th>
                                <th>Description</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr class="danger">
                                <td>title</td>
                                <td>String</td>
                                <td>Title of the table</td>
                            </tr>
                            <tr class="danger">
                                <td>yAxis</td>
                                <td>0 to (dataset.length-1)</td>
                                <td>column index of the dataset for Y-axis</td>

                            </tr>
                            <tr class="danger">
                                <td>xAxis</td>
                                <td>0 to (dataset.length-1)</td>
                                <td>column index of the dataset for X-axis</td>

                            </tr>
                            <tr class="danger">
                                <td>width</td>
                                <td>px</td>
                                <td>width of the chart</td>

                            </tr>

                            <tr class="danger">
                                <td>height</td>
                                <td>px</td>
                                <td>height of the chart</td>

                            </tr>

                            <tr class="danger">
                                <td>chartType</td>
                                <td>bar</td>
                                <td>Type of the chart</td>

                            </tr>
                            <tr class="danger">
                                <td>aggregate</td>
                                <td>avg,sum,min,max</td>
                                <td>Aggregated functions for y values of repeated x values</td>

                            </tr>

                            <tr class="info">
                                <td>barColor</td>
                                <td>color code</td>
                                <td>color of the bars</td>

                            </tr>



                            <tr class="info">
                                <td>update</td>
                                <td>"batch"</td>
                                <td></td>

                            </tr>

                            </tbody>
                        </table>

                    </div>
                </div>
            </div>
        </div>

    </div>



    <!-- /.row -->

    <div class="row">
        <h3>Sample code for above charts</h3>
                <pre>

/******************************************************* Installation of the library ******************************************************/

             &lt;link rel="stylesheet" href="igviz.css"&gt
             &lt;script src="d3.min.js"&gt &lt;/script&gt
             &lt;script src="vega.js"&gt &lt;/script&gt
             &lt;script src="igviz.js"&gt &lt;/script&gt


/***********************************************************Invoking the Library **********************************************************/
             &lt;script&gt

                    var dataTable = {
                        "metadata":{
                            "names":["Candidate","city_id","votes"],
                            "types":['C', 'N', 'N']
                        },
                        "data": [
                            ['A',1,4],
                            ['A',2,0],
                            ['A',3,5],
                            ['A',5,3],
                            ['B',1,3],
                            ['B',2,5],
                            ['B',3,8],
                            ['B',5,9],
                            ['C',1,1],
                            ['C',2,9],
                            ['C',3,5],
                            ['C',5,6],
                        ]
                    }

                    var width = document.getElementById("staticBar").offsetWidth; //canvas width
                    var height = 270;   //canvas height

                    var config = {
                        "title": "Summation of 'Votes' for  each 'Candidate'",
                        "yAxis": 2,
                        "xAxis": 0,
                        "width": width,
                        "height": height,
                        "chartType": "bar",
                        "aggregate":"sum"
                    }



                    staticChart=igviz.setUp("#staticBar",config,dataTable);
                    staticChart.plot(dataTable.data);


                    var DynamicConfig = {
                        "title": "Current Average 'Votes' for  each 'Candidate'",
                        "yAxis": 2,
                        "xAxis": 0,
                        "width": width,
                        "height": height,
                        "chartType": "bar",
                        "aggregate":"avg",
                        "update" :"batch"
                    }


                    dynamicChart=igviz.setUp("#dynamicBar",DynamicConfig,dataTable);
                    dynamicChart.plot(dataTable.data);


                    index=0;
                    setInterval(function(){

                        if(index==dataTable.data.length)
                        index=0;

                        dynamicChart.update(dataTable.data[index]);
                        index++;
                    },1000)

                    &lt;/script&gt
                </pre>
    </div>

</div><!-- /.container -->



</body>
<script>


    //dataset used to plot charts
    var dataTable = {
        "metadata":{
            "names":["Candidate","city_id","votes"],
            "types":['C', 'N', 'N']
        },
        "data": [
            ['A',1,4],
            ['A',2,0],
            ['A',3,5],
            ['A',5,3],
            ['B',1,3],
            ['B',2,5],
            ['B',3,8],
            ['B',5,9],
            ['C',1,1],
            ['C',2,9],
            ['C',3,5],
            ['C',5,6],
        ]
    }

    var width = document.getElementById("staticBar").offsetWidth; //canvas width
    var height = 270;   //canvas height

    var config = {
        "title": "Summation of 'Votes' for  each 'Candidate'",
        "yAxis": 2,
        "xAxis": 0,
        "width": width,
        "height": height,
        "chartType": "bar",
        "aggregate":"sum"
    }



    staticChart=igviz.setUp("#staticBar",config,dataTable);
    staticChart.plot(dataTable.data);


    var DynamicConfig = {
        "title": "Current Average 'Votes' for  each 'Candidate'",
        "yAxis": 2,
        "xAxis": 0,
        "width": width,
        "height": height,
        "chartType": "bar",
        "aggregate":"avg",
        "update" :"batch"
    }


    dynamicChart=igviz.setUp("#dynamicBar",DynamicConfig,dataTable);
    dynamicChart.plot(dataTable.data);


    index=0;
    setInterval(function(){

        if(index==dataTable.data.length)
        index=0;

        dynamicChart.update(dataTable.data[index]);
        index++;
    },1000)



</script>

</html>

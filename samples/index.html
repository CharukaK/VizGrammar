<html>
  <head>
    <title>VizGrammar.js</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <script src="js/d3.min.js"></script>
    <script src="js/topojson.js"></script>
    <script src="js/vega.js"></script>
    <script src="../dist/VizGrammar.min.js"></script>
    <style type="text/css">
        body {
            padding-top: 40px;
        }
    </style>
  </head>
  
  <div class="container">
  <body>
        <a style="text-decoration: none">
        <div class="jumbotron">
            <h2>VizGrammar.js
                <small> Drawing a chart has never been this easy!</small>
            </h2>
            <p>Interactive Generic Visualization library for Javascript that is based on d3.js</p>
        </div>
    </a>




       <div class="row">
        <a href="charts/line">
        <div class="col-md-6" class="tile">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">
                        Group Multi Line Chart Sample
                    </h3>
                </div>
                <div class="panel-body">
                    <div id="dChartLine"></div>
                </div>
        <script>

        var data =  [
          { 
            "metadata" : {
                "names" : ["rpm","torque","horsepower", "EngineType"],
                "types" : ["linear","linear", "ordinal","ordinal"]
            },
            "data": [
              [0, 10, 1, "Piston"], [0, 10, 1, "Rotary"]]
          }
        ];

        var config = {
          x : "rpm",
          charts : [
          {type: "line",  y : "torque", color: "EngineType"}
          ],
          maxLength: 20,
          width: 400,
          height: 200
        }

        var lineChart = new vizg(data, config); 
        var spec = lineChart.getSpec();

        lineChart.draw("#dChartLine");

        var iterations = 1000;
          (function insertLoop (i) {          
              setTimeout(function () {   
                var x = iterations-i + 1;
                lineChart.insert([[x, Number((Math.random() * 100).toFixed(2)), 2, "Rotary"]]);
                lineChart.insert([[x, Number((Math.random() * 100).toFixed(2)), 1, "Piston"]]);          
                  if (--i) insertLoop(i);
               }, 500)
        })(iterations);
        </script>
            </div>
        </div>
      </a>
      <a href="charts/bar">
        <div class="col-md-6" class="tile">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">
                       Bar Chart Sample
                    </h3>
                </div>
                <div class="panel-body">
                    <div id="dChartBar"></div>
                </div>

            </div>
                    <script>

        var data =  [
            {
              "metadata" : {
                  "names" : ["rpm","torque","horsepower", "EngineType"],
                  "types" : ["ordinal","linear", "ordinal","ordinal"]
                },
              "data": [
                            ]
            }
          ];


          var config = {
            type: "bar",
            x : "rpm",
            charts : [{type: "bar",  y : "torque"}],
            maxLength: 6,
            width: 400,
            height: 200
          }

          var lineChart3 = new vizg(data, config);
          lineChart3.draw("#dChartBar");

        var iterations = 1000;
          (function insertLoop (i) {          
              setTimeout(function () {   
                var x = iterations-i + 1;
                lineChart3.insert([[Number((Math.random() * 100).toFixed(0))%15, Number((Math.random() * 100).toFixed(2)), 20, "Piston"]]);      
                  if (--i) insertLoop(i);
               }, 1000)
        })(iterations);
        </script>
        </div>
      </a>
      </div>

      <div class="row">
      <a href="charts/area">
        <div class="col-md-6" class="tile">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">
                        Area Chart Sample
                    </h3>
                </div>
                <div class="panel-body">
                    <div id="dChartArea"></div>
                </div>

            </div>
                    <script>

        var data =  [
            {
              "metadata" : {
                  "names" : ["rpm","torque","horsepower", "EngineType"],
                  "types" : ["linear","linear", "ordinal","ordinal"]
                },
              "data": [
                [0, 10, 12]
                            ]
            }
          ];


        var config = {
            charts : [{type: "area",  x : "rpm", y : "torque"}],
            maxLength: 10,
            width: 400,
            height: 200
          }

        var areaChart = new vizg(data, config);
        areaChart.draw("#dChartArea");

        var iterations = 1000;
        (function insertLoop (i) {      
                  
               setTimeout(function () {   
                areaChart.insert([[iterations-i + 1, Number((Math.random() * 100).toFixed(2)), 13, "Rotary"]]);            
                  if (--i) insertLoop(i);
               }, 500)
        })(iterations);
        </script>
        </div>
      </a>
       <a href="charts/scatter">
        <div class="col-md-6" class="tile">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">
                        Scatter Plot Chart Sample
                    </h3>
                </div>
                <div class="panel-body">
                    <div id="dChartScatter"></div>
                </div>

            </div>
                    <script>

            var data =  [
                {
                    "metadata" : {
                          "names" : ["rpm","torque","horsepower", "weight", "EngineType"],
                        "types" : ["linear","linear", "linear","linear", "ordinal"]
                    },
                    "data": [


                        ]
                }
            ];


            var config = {
                type: "scatter",
                charts : [
                    {type: "scatter",
                     x : "rpm",  
                     y : "torque",
                     color: "horsepower", 
                     size : "weight", 
                     maxLength: 30, 
                     maxColor:"#ffff00", 
                     minColor:"#ff00ff"}], 
                     
                width: 400,
                height: 200
            }

            var scatterChart = new vizg(data, config);
            scatterChart.draw("#dChartScatter");

            var iterations = 1000;
            (function insertLoop (i) {      
                      
               setTimeout(function () {    
                     scatterChart.insert([[iterations-i + 1,Number((Math.random() * 100).toFixed(2)),
                      Number((Math.random() * 100).toFixed(2)),Number((Math.random() * 100).toFixed(2)),"Piston"]]);             
                      if (--i) insertLoop(i);
                   }, 500)
            })(iterations);


        </script>
        </div>
      </a>
        </div>

    <div class="row">
        <a href="charts/map">
        <div class="col-md-6" class="tile">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">
                        World Map Chart Sample
                    </h3>
                </div>
                <div class="panel-body">
                    <div id="dChartMapWorld"></div>
                </div>
            </div>
        </div>
      </a>

      <a href="charts/map">
        <div class="col-md-6" class="tile">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">
                        US Map Chart Sample
                    </h3>
                </div>
                <div class="panel-body">
                    <div id="dChartMapUS"></div>
                </div>
            </div>
        </div>
      </a>
<script>

    var data =  [
        {
            "metadata" : {
                "names" : ["Country","Inflation"],
                "types" : ["ordinal", "linear"]
            },
            "data": [

                ["Afghanistan",4.23]
            ]
        }
    ];


    var configWorld = {
        type: "map",
        x : "Country",
        charts : [{type: "map",  y : "Inflation", mapType : "world"}],
        width: 400,
        height: 200
    };

    var worlHelperInfoJsonUrl = "jsonMapFiles/countryInfo.json";
    var usaHelperInfoJsonUrl = "jsonMapFiles/usaInfo.json";
    var worldGeoCodesUrl = "jsonMapFiles/world.json";
    var usaGeoCodesUrl = "jsonMapFiles/usa.json";
    var europeGeoCodesUrl = "jsonMapFiles/europe.json";

    configWorld.helperUrl = worlHelperInfoJsonUrl;
    configWorld.geoCodesUrl = worldGeoCodesUrl;
    var worldChart = new vizg(data, configWorld);
    worldChart.draw("#dChartMapWorld");

    var countries = ["RUS","Canada","USA","China","AUS", "Brazil","Spain","France", "Nigeria", "Sudan", "LKA", "Algeria", "DR Congo"];

    var iterations = 1000;
    (function insertLoop (i) {      
           setTimeout(function () {   
            worldChart.insert([[countries[i%countries.length], Number((Math.random() * 100).toFixed(2)), 13]]);            
              if (--i) insertLoop(i);
           }, 500)
    })(iterations);

    var usaData =  [
        {
            "metadata" : {
                "names" : ["County","Inflation"],
                "types" : ["ordinal", "linear"]
            },
            "data": [

                ["Alabama",4.23]
            ]
        }
    ];

    var configUsa = {
        type: "map",
        x : "County",
        charts : [{type: "map",  y : "Inflation", mapType : "usa"}],
        width: 400,
        height: 200
    };

    configUsa.helperUrl = usaHelperInfoJsonUrl;
    configUsa.geoCodesUrl = usaGeoCodesUrl;
    var usaChart = new vizg(usaData, configUsa);
    usaChart.draw("#dChartMapUS");

    var USStates = ["Alabam", "Alaska","Arizona", "Georgia", "Ohio", "Massahusetts", "Michigan", "Texas", "Utah", "Vermont", "Virginia", "Wahington", "West Virginia", "Wsconsin", "Wyoming"];
    (function insertLoop (i) {      
           setTimeout(function () {   
            usaChart.insert([[USStates[i%USStates.length], Number((Math.random() * 100).toFixed(2)), 13]]);            
              if (--i) insertLoop(i);
           }, 500)
    })(iterations);
</script>

      </div>

       <div class="row">
        <a href="charts/number">
        <div class="col-md-6" class="tile">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">
                        Number Chart Sample
                    </h3>
                </div>
                <div class="panel-body">
                    <div id="dChartNumberTorque"></div>
                </div>
            </div>
        </div>
      </a>

      <a href="charts/number">
        <div class="col-md-6" class="tile">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">
                        Number Chart Sample
                    </h3>
                </div>
                <div class="panel-body">
                    <div id="dChartNumberHorsepower"></div>
                </div>
            </div>
        </div>
      </a>


      <script>
                  var data =  [
                      {
                        "metadata" : {
                            "names" : ["rpm","torque","horsepower", "EngineType"],
                            "types" : ["ordinal","linear", "ordinal","ordinal"]
                          },
                        "data": [
                          [1, 10, 12, "Piston"]
                                      ]
                      }
                    ];


                    var config = {
                      title : "Torque of engine",
                      charts : [{x : "torque", type: "number"}],
                      maxLength: 6,
                      width: 400,
                      height: 200
                    }

                    var numberChart = new vizg(data, config);
                    numberChart.draw("#dChartNumberTorque");

                    var config2 = {
                      title : "Horse power of engine",
                      charts : [{x : "horsepower", type: "number"}],
                      maxLength: 6,
                      width: 400,
                      height: 200
                    }

                    var numberChartTorque = new vizg(data, config);
                    numberChartTorque.draw("#dChartNumberTorque");

                    var numberChartHorsepower = new vizg(data, config2);
                    numberChartHorsepower.draw("#dChartNumberHorsepower");



                  var iterations = 1000;
                  (function insertLoop (i) {      
                         setTimeout(function () {   
                          var dataRow = [iterations-i + 1, Number((Math.random() * 100).toFixed(2)), Number((Math.random() * 100).toFixed(2))];

                          numberChartTorque.insert([dataRow]); 
                          numberChartHorsepower.insert([dataRow]);             
                            if (--i) insertLoop(i);
                         }, 500)
                  })(iterations);
                  </script>
      </div>

  </body>
</html>